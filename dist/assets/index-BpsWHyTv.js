var h=Object.defineProperty;var c=(n,t,e)=>t in n?h(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var r=(n,t,e)=>c(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();class f{constructor(t){r(this,"canvas");r(this,"ctx");r(this,"objects",[]);r(this,"player");r(this,"score",0);r(this,"level",1);r(this,"running",!1);r(this,"lastTime",Date.now());r(this,"spawnCounter",0);r(this,"gameLoop",()=>{if(!this.running)return;const t=Date.now(),e=(t-this.lastTime)/1e3;this.lastTime=t,this.player.x+=this.player.vx*e,this.player.x=Math.max(40,Math.min(this.canvas.width-40,this.player.x)),this.spawnCounter+=e,this.spawnCounter>.5/this.level&&(this.spawnObject(),this.spawnCounter=0);for(let i of this.objects)i.y+=i.vy*e,i.y>this.canvas.height&&(i.alive=!1),this.collides(i,this.player)&&(this.score+=10*this.level,i.alive=!1,this.score%100===0&&this.level++,this.playSound(800,.1));this.objects=this.objects.filter(i=>i.alive),this.render(),requestAnimationFrame(this.gameLoop)});this.canvas=t;const e=t.getContext("2d");if(!e)throw new Error("Cannot get canvas context");this.ctx=e,this.player={x:t.width/2,y:t.height-40,width:80,height:20,vx:0,vy:0,alive:!0,color:"#00ff00",type:"player"},this.setupControls(),this.render()}setupControls(){window.addEventListener("keydown",t=>{(t.key==="ArrowLeft"||t.key==="a")&&(this.player.vx=-300),(t.key==="ArrowRight"||t.key==="d")&&(this.player.vx=300)}),window.addEventListener("keyup",t=>{(t.key==="ArrowLeft"||t.key==="a"||t.key==="ArrowRight"||t.key==="d")&&(this.player.vx=0)}),this.canvas.addEventListener("mousemove",t=>{const e=this.canvas.getBoundingClientRect(),i=(t.clientX-e.left)*(this.canvas.width/e.width);this.player.x=Math.max(40,Math.min(this.canvas.width-40,i))}),this.canvas.addEventListener("touchmove",t=>{const e=this.canvas.getBoundingClientRect(),i=(t.touches[0].clientX-e.left)*(this.canvas.width/e.width);this.player.x=Math.max(40,Math.min(this.canvas.width-40,i))})}start(){console.log("ðŸŽ® Game starting..."),this.running=!0,this.lastTime=Date.now(),this.gameLoop()}stop(){this.running=!1}spawnObject(){const t=["#ff9f80","#ffdf6e","#85e3ff","#baffc9"],e=t[Math.floor(Math.random()*t.length)],i=100+this.level*50+Math.random()*100;this.objects.push({x:Math.random()*(this.canvas.width-30)+15,y:-30,width:30,height:30,vx:0,vy:i,alive:!0,color:e,type:"object"})}collides(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}render(){const t=this.ctx,e=this.canvas.width,i=this.canvas.height,o=t.createLinearGradient(0,0,0,i);o.addColorStop(0,"#020617"),o.addColorStop(1,"#020b3d"),t.fillStyle=o,t.fillRect(0,0,e,i);for(let s of this.objects)t.fillStyle=s.color,t.fillRect(s.x-s.width/2,s.y-s.height/2,s.width,s.height),t.strokeStyle="#ffffff",t.lineWidth=2,t.strokeRect(s.x-s.width/2,s.y-s.height/2,s.width,s.height);t.fillStyle=this.player.color,t.fillRect(this.player.x-this.player.width/2,this.player.y-this.player.height/2,this.player.width,this.player.height),t.strokeStyle="#ffffff",t.lineWidth=2,t.strokeRect(this.player.x-this.player.width/2,this.player.y-this.player.height/2,this.player.width,this.player.height),t.fillStyle="#ffffff",t.font="20px Arial",t.fillText(`Score: ${this.score}`,20,30),t.fillText(`Level: ${this.level}`,20,60),t.fillText(`Objects: ${this.objects.length}`,20,90),this.running||(t.fillStyle="rgba(0,0,0,0.7)",t.fillRect(0,0,e,i),t.fillStyle="#44ff44",t.font="40px Arial",t.textAlign="center",t.fillText("ðŸš€ CLICK TO START",e/2,i/2-40),t.font="20px Arial",t.fillText("Use Arrow Keys or Mouse",e/2,i/2+30))}playSound(t,e){try{const i=new(window.AudioContext||window.webkitAudioContext),o=i.createOscillator(),s=i.createGain();o.connect(s),s.connect(i.destination),o.frequency.value=t,s.gain.setValueAtTime(.1,i.currentTime),s.gain.exponentialRampToValueAtTime(.01,i.currentTime+e),o.start(i.currentTime),o.stop(i.currentTime+e)}catch{console.log("Audio not available")}}}const a=document.getElementById("game-canvas");if(a){const n=new f(a);setTimeout(()=>{console.log("Auto-starting game..."),n.start()},1e3),a.addEventListener("click",()=>{n.running||n.start()}),window.game=n,console.log("âœ… Game ready! (auto-start in 1 second)")}else console.error("Canvas not found!");
